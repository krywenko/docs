
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Structure Overview Â· Netbeast Documentation</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-advanced-emoji/emoji-website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-multipart/multipart.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="resources.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" >
            
                <span>
            
                    
                    Documentation
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../">
            
                <a href="../../">
            
                    
                    About Netbeast
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Getting started
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../getting_started/installing_and_cloning.html">
            
                <a href="../getting_started/installing_and_cloning.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../getting_started/dashboard.html">
            
                <a href="../getting_started/dashboard.html">
            
                    
                    The Dashboard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../getting_started/first_steps.html">
            
                <a href="../getting_started/first_steps.html">
            
                    
                    First steps
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Developing
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../developing/how_to_develop.html">
            
                <a href="../developing/how_to_develop.html">
            
                    
                    How to develop
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../developing/apps/write_your_first_app.html">
            
                <a href="../developing/apps/write_your_first_app.html">
            
                    
                    Your first application
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../developing/plugins/write_your_first_plugin.html">
            
                <a href="../developing/plugins/write_your_first_plugin.html">
            
                    
                    Your first plugin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../developing/plugins/virtual_plugins.html">
            
                <a href="../developing/plugins/virtual_plugins.html">
            
                    
                    Virtual plugins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../developing/publish.html">
            
                <a href="../developing/publish.html">
            
                    
                    Publishing applications and plugins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../developing/debugging.html">
            
                <a href="../developing/debugging.html">
            
                    
                    Debugging
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    API Reference
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.2" data-path="structure.html">
            
                <a href="structure.html">
            
                    
                    Structure Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="resources.html">
            
                <a href="resources.html">
            
                    
                    Resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="scenes.html">
            
                <a href="scenes.html">
            
                    
                    Scenes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="push_notifications.html">
            
                <a href="push_notifications.html">
            
                    
                    Push notifications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="chain_events.html">
            
                <a href="chain_events.html">
            
                    
                    Events
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="streams.html">
            
                <a href="streams.html">
            
                    
                    Streams [Soon]
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Compatibilities
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../compatibilities/supported_devices.html">
            
                <a href="../compatibilities/supported_devices.html">
            
                    
                    Smart devices supported
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../compatibilities/currently_running_on.html">
            
                <a href="../compatibilities/currently_running_on.html">
            
                    
                    Currently running on
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../compatibilities/third_party_dev_tools.html">
            
                <a href="../compatibilities/third_party_dev_tools.html">
            
                    
                    Third party dev tools
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    Contributing
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../contributing/">
            
                <a href="../contributing/">
            
                    
                    How to contribute
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../write_new_documentation/">
            
                <a href="../write_new_documentation/">
            
                    
                    Write new documentation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../license/">
            
                <a href="../license/">
            
                    
                    License
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Structure Overview</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="structure-overview">Structure Overview</h1>
<p>Netbeast API is composed by different methods. These groups of methods try to help
you communicating your Apps with the smart devices and Dashboard in an easy way.</p>
<ul>
<li><a href="#methods">Methods</a><ul>
<li><a href="#arguments">Arguments</a></li>
<li><a href="#output">Output</a></li>
</ul>
</li>
<li><a href="#DD">Dashboard Databases</a><ul>
<li><a href="#resourcesdb">Resources db</a></li>
<li><a href="#scenesdb">Scenes db</a></li>
</ul>
</li>
</ul>
<p><a name="methods"></a></p>
<h1 id="methods">Methods</h1>
<p>We can find methods for different purposes:</p>
<ul>
<li><a href="resources.html">Manage smart devices</a></li>
<li><a href="scenes.html">Create and use Scenes</a></li>
<li><a href="push_notifications.html">Send notifications to Dashboard</a></li>
<li><a href="chain_events.html">Catch events</a></li>
</ul>
<p><a name="arguments"></a></p>
<h3 id="arguments">Arguments</h3>
<p>Each device support specific parameters.
If you try to set an unsupported parameter to a switch (for example the brightness, <code>beast(&apos;switch&apos;).set({brightness: 80})</code>) you will return a soft error. The process keep working but send you a warning.</p>
<p>Here is a list of supported arguments for each device.</p>
<ul>
<li>switch &amp; bridge<ul>
<li>power:  <code>1 || 0</code></li>
</ul>
</li>
<li>lights<ul>
<li>power:    <code>1 || 0</code></li>
<li>hue:           <code>0..360</code></li>
<li>saturation:    <code>0..100</code></li>
<li>brightness:    <code>0..100</code></li>
<li>color: <code>{r: 0, g: 0, b: 0} || #FF13AA</code></li>
</ul>
</li>
<li>music &amp; video<ul>
<li>volume:       <code>0..100</code></li>
<li>status:       <code>play || pause || stop || info</code></li>
<li>track:        <code>must be the url of the song/video</code></li>
</ul>
</li>
<li>temperature       <code>&#xBA;C</code></li>
<li>humidity          <code>0..100</code></li>
<li>luminosity        <code>photons per square meter</code></li>
<li>battery           <code>0..100</code></li>
</ul>
<p>A example of use:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> beast = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)
beast(<span class="hljs-string">&apos;lights&apos;</span>).set({power: <span class="hljs-number">1</span>, brightness: <span class="hljs-number">100</span>, hue: <span class="hljs-number">0</span>, saturation: <span class="hljs-number">100</span>})
</code></pre>
<p> If you have white and color bulbs, the first ones are going to switch on and change the brightness. The color bulbs will also change their color to red and the execution continues without problems.</p>
<p><a name="output"></a></p>
<h3 id="output">Output</h3>
<p>All the methods acts as a promise and they always return a Javascript object if successful or an error object else.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> beast = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;netbeast&apos;</span>)

beast(<span class="hljs-string">&apos;temperature&apos;</span>).at(<span class="hljs-string">&apos;kitchen&apos;</span>).get()
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;The temperature in the kitchen is &apos;</span> + data + <span class="hljs-string">&apos;&#xBA;C&apos;</span>)
}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Error: &apos;</span> + err)
})
</code></pre>
<p><a name="DD"></a></p>
<h2 id="dashboard-databases">Dashboard Databases</h2>
<p>Netbeast Dashboard store 2 different databases that helps on the manage of the
smart devices. In order to make the API easier to understand, we are going to talk
a bit about how these databases are structured.</p>
<p><a name="resourcesdb"></a></p>
<h3 id="resources">Resources</h3>
<p>A resource contain information about every smart device connected through the dashboard. It has the following fields:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Identifies the resource in the db</td>
<td>Integer (autogenerated)</td>
<td>0cc1fdb1bcc40c86eba95b1f6a1724ab634691</td>
</tr>
<tr>
<td>alias</td>
<td>Name of the device</td>
<td>String (default null)</td>
<td>bed-light</td>
</tr>
<tr>
<td>app</td>
<td>Name of the app that register the resource</td>
<td>String</td>
<td>sonos</td>
</tr>
<tr>
<td>location</td>
<td>Location of the devices in the house</td>
<td>String (default null)</td>
<td>bedroom</td>
</tr>
<tr>
<td>topic</td>
<td>Define the device field of actuation</td>
<td>String</td>
<td>lights, music, switch, video</td>
</tr>
<tr>
<td>group</td>
<td>Resources can be grouped</td>
<td>String (default null)</td>
<td>security</td>
</tr>
<tr>
<td>hook</td>
<td>Used to communicate with a device and identify it</td>
<td>string</td>
<td>/Sonos_IP (/172.64.30.114)</td>
</tr>
</tbody>
</table>
<p><a name="scenesdb"></a></p>
<h3 id="scenes">Scenes</h3>
<p>A Scene is a snapshot of the current state of a group of devices. It allows you to save your favorites configuration to be accessed easily. The scenes database its composed by the following fields:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Values</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Identifies the resource in the db</td>
<td>Integer</td>
<td>0cc1fdb1bcc40c86eba95b1f6a1724ab634691</td>
</tr>
<tr>
<td>scene_id</td>
<td>show the name of the scene</td>
<td>String</td>
<td>cinema</td>
</tr>
<tr>
<td>location</td>
<td>Location of the scene in the house</td>
<td>String (default null)</td>
<td>living-room</td>
</tr>
<tr>
<td>status</td>
<td>store the state to be applied on the device</td>
<td>String</td>
<td>&apos;{power: on, brightness: 50}&apos;</td>
</tr>
</tbody>
</table>
<p>A given device could be part of different scenes.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: Introduction">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="resources.html" class="navigation navigation-next " aria-label="Next page: Resources">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Structure Overview","level":"1.5.2","depth":2,"next":{"title":"Resources","level":"1.5.3","depth":2,"path":"chapters/api_reference/resources.md","ref":"chapters/api_reference/resources.md","articles":[]},"previous":{"title":"Introduction","level":"1.5.1","depth":2,"path":"chapters/api_reference/index.md","ref":"chapters/api_reference/index.md","articles":[]},"dir":"ltr"},"config":{"plugins":["advanced-emoji","scripts","multipart","livereload"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"livereload":{},"scripts":{"files":["./analytics.js"]},"search":{},"multipart":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"advanced-emoji":{"embedEmojis":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Netbeast Documentation","gitbook":"*"},"file":{"path":"chapters/api_reference/structure.md","mtime":"2017-02-15T09:07:30.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-02-15T09:20:21.989Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-scripts/cf7809fb4540f045a9d19a2e25cd21b1-analytics.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

